2024-07-10 01:54:02,115 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3h2m57s615ms).
2024-07-10 06:01:01,927 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4h6m59s812ms).
2024-07-10 06:13:09,763 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=12m7s836ms).
2024-07-10 06:31:12,911 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=17m33s160ms).
2024-07-10 07:14:50,489 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 07:14:50,508 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 07:14:50,516 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 07:14:50,670 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 07:14:50,684 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 07:14:50,706 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 07:14:50,724 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 07:14:50,740 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 07:14:50,754 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 07:14:50,769 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 07:14:50,800 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 07:14:50,812 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 07:15:00,168 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 85242 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 07:15:00,171 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 07:15:01,641 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 07:15:01,776 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 120 ms. Found 3 JPA repository interfaces.
2024-07-10 07:15:02,712 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 07:15:02,725 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 07:15:02,726 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 07:15:02,852 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 07:15:02,853 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2577 ms
2024-07-10 07:15:03,062 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 07:15:03,128 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 07:15:03,339 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 07:15:03,498 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 07:15:03,760 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6b6def36
2024-07-10 07:15:03,762 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 07:15:03,852 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 07:15:04,763 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 07:15:04,785 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 07:15:04,792 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 07:15:04,795 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 07:15:04,799 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 07:15:04,814 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 07:15:04,818 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 07:15:04,823 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 07:15:04,827 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 07:15:04,830 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 07:15:04,839 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 07:15:04,882 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 07:15:04,895 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 07:15:04,901 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 07:15:04,916 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 07:15:04,929 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 07:15:04,955 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 07:15:04,983 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 07:15:04,996 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 07:15:05,003 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 07:15:05,059 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 07:15:05,136 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 07:15:05,268 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 07:15:05,284 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 07:15:06,403 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 07:15:06,846 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ace3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d3b0397, org.springframework.security.web.context.SecurityContextHolderFilter@65fa56f7, org.springframework.security.web.header.HeaderWriterFilter@779136bf, org.springframework.security.web.authentication.logout.LogoutFilter@6a4d57b7, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@58a9e64d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69c6e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b7a0f18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ab717f3, org.springframework.security.web.session.SessionManagementFilter@256c6f7a, org.springframework.security.web.access.ExceptionTranslationFilter@1d982fbe, org.springframework.security.web.access.intercept.AuthorizationFilter@4505015b]
2024-07-10 07:15:07,160 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 07:15:07,179 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.734 seconds (process running for 8.521)
2024-07-10 07:15:07,383 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 07:15:07,400 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 07:15:07,448 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 07:15:07,614 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 07:15:07,615 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 07:15:07,618 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 07:15:17,610 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 07:15:17,611 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 07:15:17,613 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 1 ms
2024-07-10 07:15:19,356 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 856 ms
2024-07-10 07:15:39,905 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:16:43,343 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:16:43,365 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select next_val as id_val from album_seq for update
2024-07-10 07:16:43,370 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] update album_seq set next_val= ? where next_val=?
2024-07-10 07:16:43,382 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 07:16:58,556 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:16:58,564 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from album_seq for update
2024-07-10 07:16:58,566 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update album_seq set next_val= ? where next_val=?
2024-07-10 07:16:58,573 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 07:17:08,049 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:17:08,062 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 07:17:08,071 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:17:08,077 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:18:09,912 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:18:09,925 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 07:18:09,939 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select next_val as id_val from photo_seq for update
2024-07-10 07:18:09,940 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] update photo_seq set next_val= ? where next_val=?
2024-07-10 07:18:09,947 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:10,151 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select next_val as id_val from photo_seq for update
2024-07-10 07:18:10,152 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] update photo_seq set next_val= ? where next_val=?
2024-07-10 07:18:10,156 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:11,001 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:19,362 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:18:19,366 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 07:18:19,374 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:19,426 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:20,178 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 07:18:36,691 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:18:36,708 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 07:18:36,715 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:18:36,725 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:19:37,108 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:19:37,113 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 07:19:37,119 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 07:19:37,128 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] update photo set album_id=?, description=?, file_name=?, name=?, original_file_name=? where id=?
2024-07-10 07:19:52,592 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:19:52,605 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 07:19:52,611 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:19:52,621 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:22:45,567 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:22:45,576 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 07:22:45,588 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 07:22:45,607 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo set album_id=?, description=?, file_name=?, name=?, original_file_name=? where id=?
2024-07-10 07:22:55,198 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 07:22:55,212 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 07:22:55,221 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:22:55,229 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 07:30:47,295 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m13s360ms).
2024-07-10 07:38:35,691 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 07:38:35,693 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 07:38:35,695 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 07:38:35,724 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 07:38:35,736 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 07:38:35,748 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 07:38:35,764 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 07:38:35,817 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 07:38:35,830 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 07:38:35,840 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 07:38:35,854 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 07:38:35,866 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 07:38:38,201 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 396 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 07:38:38,204 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 07:38:39,752 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 07:38:39,877 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 109 ms. Found 3 JPA repository interfaces.
2024-07-10 07:38:40,930 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 07:38:40,951 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 07:38:40,952 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 07:38:41,091 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 07:38:41,092 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2783 ms
2024-07-10 07:38:41,351 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 07:38:41,458 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 07:38:41,768 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 07:38:42,038 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 07:38:42,348 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@63db743d
2024-07-10 07:38:42,351 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 07:38:42,422 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 07:38:43,570 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 07:38:43,585 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 07:38:43,590 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 07:38:43,593 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 07:38:43,594 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 07:38:43,601 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 07:38:43,604 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 07:38:43,607 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 07:38:43,610 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 07:38:43,612 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 07:38:43,619 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 07:38:43,633 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 07:38:43,647 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 07:38:43,650 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 07:38:43,659 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 07:38:43,669 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 07:38:43,672 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 07:38:43,683 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 07:38:43,691 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 07:38:43,695 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 07:38:43,713 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 07:38:43,741 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 07:38:43,778 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 07:38:43,790 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 07:38:45,215 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 07:38:45,719 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58a9e64d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7657d29f, org.springframework.security.web.context.SecurityContextHolderFilter@7a6b214c, org.springframework.security.web.header.HeaderWriterFilter@1d982fbe, org.springframework.security.web.authentication.logout.LogoutFilter@5f233f9, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@105cdf61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65fa56f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5929059c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ace3, org.springframework.security.web.session.SessionManagementFilter@62d21afd, org.springframework.security.web.access.ExceptionTranslationFilter@67d55a46, org.springframework.security.web.access.intercept.AuthorizationFilter@6329a5b9]
2024-07-10 07:38:46,097 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 07:38:46,113 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 8.736 seconds (process running for 9.724)
2024-07-10 07:38:46,286 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 07:38:46,300 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 07:38:46,348 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 07:38:46,487 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 07:38:46,489 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 07:38:46,492 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:11:08,378 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:11:08,384 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 08:11:08,387 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:11:08,419 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:11:08,430 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 08:11:08,443 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 08:11:08,453 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 08:11:08,461 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 08:11:08,470 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 08:11:08,483 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 08:11:08,497 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 08:11:08,503 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 08:11:19,943 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 18156 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 08:11:19,948 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 08:11:21,934 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 08:11:22,064 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 111 ms. Found 3 JPA repository interfaces.
2024-07-10 08:11:23,605 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 08:11:23,631 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 08:11:23,632 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 08:11:23,813 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 08:11:23,814 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3689 ms
2024-07-10 08:11:24,148 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 08:11:24,233 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 08:11:24,528 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 08:11:24,676 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 08:11:24,990 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7b1a30e5
2024-07-10 08:11:24,994 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 08:11:25,076 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 08:11:26,234 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:11:26,254 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:11:26,261 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:11:26,264 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:11:26,268 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 08:11:26,278 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 08:11:26,285 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 08:11:26,288 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 08:11:26,294 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 08:11:26,299 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 08:11:26,310 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 08:11:26,331 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 08:11:26,356 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 08:11:26,360 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:11:26,373 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 08:11:26,383 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 08:11:26,386 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:11:26,399 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 08:11:26,409 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 08:11:26,413 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 08:11:26,425 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 08:11:26,451 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 08:11:26,484 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 08:11:26,494 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:11:28,360 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 08:11:28,903 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7657d29f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ace3, org.springframework.security.web.context.SecurityContextHolderFilter@81cd90e, org.springframework.security.web.header.HeaderWriterFilter@3adb4cc8, org.springframework.security.web.authentication.logout.LogoutFilter@3c62c81f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@530bd77b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@232be28d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@256aabbe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d3b0397, org.springframework.security.web.session.SessionManagementFilter@6ee07d7f, org.springframework.security.web.access.ExceptionTranslationFilter@72115c48, org.springframework.security.web.access.intercept.AuthorizationFilter@6c92a59d]
2024-07-10 08:11:29,309 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 08:11:29,327 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 10.0 seconds (process running for 10.519)
2024-07-10 08:11:29,532 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:11:29,546 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:11:29,581 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:11:29,723 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:11:29,725 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:11:29,728 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:13:02,605 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 08:13:02,607 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 08:13:02,609 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 08:13:04,017 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 795 ms
2024-07-10 08:13:17,449 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:13:40,560 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:13:40,565 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select next_val as id_val from album_seq for update
2024-07-10 08:13:40,567 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] update album_seq set next_val= ? where next_val=?
2024-07-10 08:13:40,578 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 08:15:27,118 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:15:27,133 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 08:15:27,147 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 08:15:27,149 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 08:15:27,153 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 08:15:27,392 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 08:15:27,393 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 08:15:27,397 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 08:17:40,776 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:17:40,777 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 08:17:40,778 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:17:40,796 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:17:40,820 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 08:17:40,831 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 08:17:40,845 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 08:17:40,856 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 08:17:40,866 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 08:17:40,874 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 08:17:40,884 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 08:17:40,899 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 08:17:42,455 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 22544 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 08:17:42,458 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 08:17:43,882 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 08:17:43,981 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 87 ms. Found 3 JPA repository interfaces.
2024-07-10 08:17:44,798 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 08:17:44,811 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 08:17:44,812 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 08:17:44,932 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 08:17:44,933 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2285 ms
2024-07-10 08:17:45,163 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 08:17:45,240 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 08:17:45,469 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 08:17:45,610 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 08:17:45,845 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@56da96b3
2024-07-10 08:17:45,847 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 08:17:45,911 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 08:17:46,879 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:17:46,895 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:17:46,902 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:17:46,905 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:17:46,908 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 08:17:46,915 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 08:17:46,918 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 08:17:46,923 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 08:17:46,927 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 08:17:46,931 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 08:17:46,940 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 08:17:46,956 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 08:17:46,979 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 08:17:46,983 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:17:46,995 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 08:17:47,004 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 08:17:47,008 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:17:47,019 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 08:17:47,032 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 08:17:47,036 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 08:17:47,049 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 08:17:47,083 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 08:17:47,124 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 08:17:47,133 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:17:48,764 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 08:17:49,220 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35c3d6e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ca97ddf, org.springframework.security.web.context.SecurityContextHolderFilter@20a3321a, org.springframework.security.web.header.HeaderWriterFilter@79d3c655, org.springframework.security.web.authentication.logout.LogoutFilter@7657d29f, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@31921151, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f5a25e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f233f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d10f182, org.springframework.security.web.session.SessionManagementFilter@5dd12c19, org.springframework.security.web.access.ExceptionTranslationFilter@188058fb, org.springframework.security.web.access.intercept.AuthorizationFilter@38f569d]
2024-07-10 08:17:49,599 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 08:17:49,625 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.729 seconds (process running for 8.254)
2024-07-10 08:17:49,810 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:17:49,825 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:17:49,871 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:17:50,017 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:17:50,019 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:17:50,024 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:17:59,664 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 08:17:59,665 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 08:17:59,667 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 08:18:00,873 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 913 ms
2024-07-10 08:18:12,530 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:18:53,992 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:18:53,999 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] select next_val as id_val from album_seq for update
2024-07-10 08:18:54,001 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] update album_seq set next_val= ? where next_val=?
2024-07-10 08:18:54,009 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-5] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 08:19:40,774 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:19:40,789 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 08:19:40,805 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 08:19:40,806 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 08:19:40,811 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 08:19:41,722 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 08:19:41,723 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 08:19:41,727 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 08:20:01,490 [WARN] org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-7] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type is not supported]
2024-07-10 08:38:24,135 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:38:24,140 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 08:38:24,143 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:38:24,167 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:38:24,177 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 08:38:24,188 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 08:38:24,199 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 08:38:24,210 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 08:38:24,218 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 08:38:24,227 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 08:38:24,242 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 08:38:24,261 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 08:38:26,569 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 36505 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 08:38:26,582 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 08:38:28,092 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 08:38:28,217 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 109 ms. Found 3 JPA repository interfaces.
2024-07-10 08:38:29,408 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 08:38:29,429 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 08:38:29,431 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 08:38:29,724 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 08:38:29,725 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3031 ms
2024-07-10 08:38:30,022 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 08:38:30,161 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 08:38:30,485 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 08:38:30,696 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 08:38:31,171 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1152900
2024-07-10 08:38:31,175 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 08:38:31,273 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 08:38:32,581 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:38:32,599 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:38:32,606 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:38:32,608 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:38:32,614 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 08:38:32,623 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 08:38:32,627 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 08:38:32,632 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 08:38:32,635 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 08:38:32,638 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 08:38:32,646 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 08:38:32,660 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 08:38:32,674 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 08:38:32,678 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:38:32,689 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 08:38:32,700 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 08:38:32,704 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:38:32,719 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 08:38:32,729 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 08:38:32,732 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 08:38:32,744 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 08:38:32,780 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 08:38:32,816 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 08:38:32,826 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:38:34,045 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 08:38:34,592 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@103033fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25511895, org.springframework.security.web.context.SecurityContextHolderFilter@6b7a0f18, org.springframework.security.web.header.HeaderWriterFilter@58d4fe33, org.springframework.security.web.authentication.logout.LogoutFilter@6cac0334, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67683210, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@914ab92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74d3b331, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38f569d, org.springframework.security.web.session.SessionManagementFilter@6e53bb4f, org.springframework.security.web.access.ExceptionTranslationFilter@4d24ab25, org.springframework.security.web.access.intercept.AuthorizationFilter@e638553]
2024-07-10 08:38:35,002 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 08:38:35,021 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 9.26 seconds (process running for 10.193)
2024-07-10 08:38:35,268 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:38:35,288 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:38:35,340 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:38:35,523 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:38:35,524 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:38:35,531 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:40:34,186 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:40:34,188 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 08:40:34,189 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:40:34,203 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:40:34,215 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 08:40:34,222 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 08:40:34,229 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 08:40:34,237 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 08:40:34,245 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 08:40:34,255 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 08:40:34,266 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 08:40:34,275 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 08:40:45,891 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 37820 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 08:40:45,895 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 08:40:47,176 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 08:40:47,286 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-10 08:40:48,178 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 08:40:48,196 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 08:40:48,197 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 08:40:48,320 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 08:40:48,321 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2322 ms
2024-07-10 08:40:48,562 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 08:40:48,634 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 08:40:48,848 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 08:40:49,020 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 08:40:49,315 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3957d88b
2024-07-10 08:40:49,318 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 08:40:49,389 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 08:40:50,349 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 08:40:50,361 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:40:50,366 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 08:40:50,368 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 08:40:50,370 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 08:40:50,378 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 08:40:50,381 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 08:40:50,384 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 08:40:50,387 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 08:40:50,389 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 08:40:50,396 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 08:40:50,408 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 08:40:50,419 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 08:40:50,423 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:40:50,436 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 08:40:50,447 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 08:40:50,451 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 08:40:50,462 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 08:40:50,471 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 08:40:50,474 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 08:40:50,487 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 08:40:50,521 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 08:40:50,551 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 08:40:50,562 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 08:40:51,795 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 08:40:52,173 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@329aa2d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@103033fe, org.springframework.security.web.context.SecurityContextHolderFilter@256aabbe, org.springframework.security.web.header.HeaderWriterFilter@145f1f97, org.springframework.security.web.authentication.logout.LogoutFilter@9c40f43, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@52bcfd10, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@188058fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5837cb9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25511895, org.springframework.security.web.session.SessionManagementFilter@69c6e5, org.springframework.security.web.access.ExceptionTranslationFilter@337e573b, org.springframework.security.web.access.intercept.AuthorizationFilter@5add7380]
2024-07-10 08:40:52,478 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 08:40:52,492 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.173 seconds (process running for 7.728)
2024-07-10 08:40:52,682 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:40:52,693 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:40:52,731 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:40:52,880 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 08:40:52,881 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 08:40:52,885 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 08:43:47,014 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 08:43:47,016 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 08:43:47,019 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 08:43:48,169 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 827 ms
2024-07-10 08:48:23,236 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:49:12,277 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:49:12,284 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select next_val as id_val from album_seq for update
2024-07-10 08:49:12,285 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] update album_seq set next_val= ? where next_val=?
2024-07-10 08:49:12,292 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 08:50:09,884 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:50:09,900 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 08:50:09,918 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select next_val as id_val from photo_seq for update
2024-07-10 08:50:09,919 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update photo_seq set next_val= ? where next_val=?
2024-07-10 08:50:09,925 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 08:50:40,201 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 08:50:40,215 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 08:50:40,220 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 08:51:07,200 [WARN] org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver [http-nio-8080-exec-9] Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content-Type is not supported]
2024-07-10 08:58:35,230 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m14s17ms).
2024-07-10 09:00:33,791 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m28s245ms).
2024-07-10 09:02:03,086 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 09:02:03,098 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 09:02:03,106 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 09:02:03,245 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 09:02:03,261 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 09:02:03,275 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 09:02:03,291 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 09:02:03,300 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 09:02:03,314 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 09:02:03,331 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 09:02:03,358 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 09:02:03,404 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 09:04:07,276 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 50401 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 09:04:07,279 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 09:04:08,642 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 09:04:08,755 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 90 ms. Found 3 JPA repository interfaces.
2024-07-10 09:04:09,747 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 09:04:09,767 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 09:04:09,768 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 09:04:09,920 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 09:04:09,920 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2565 ms
2024-07-10 09:04:10,144 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 09:04:10,240 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 09:04:10,488 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 09:04:10,680 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 09:04:10,971 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7cb29ea8
2024-07-10 09:04:10,975 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 09:04:11,046 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 09:04:12,104 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 09:04:12,117 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 09:04:12,124 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 09:04:12,127 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 09:04:12,131 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 09:04:12,139 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 09:04:12,142 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 09:04:12,145 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 09:04:12,149 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 09:04:12,153 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 09:04:12,161 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 09:04:12,178 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 09:04:12,191 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 09:04:12,194 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 09:04:12,210 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 09:04:12,224 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 09:04:12,228 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 09:04:12,241 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 09:04:12,251 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 09:04:12,255 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 09:04:12,271 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 09:04:12,300 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 09:04:12,330 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 09:04:12,342 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 09:04:13,853 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 09:04:14,395 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4379fe2a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e0f2686, org.springframework.security.web.context.SecurityContextHolderFilter@188ab96, org.springframework.security.web.header.HeaderWriterFilter@81cd90e, org.springframework.security.web.authentication.logout.LogoutFilter@5add7380, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@21202507, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e2696e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f3d5cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e27325d, org.springframework.security.web.session.SessionManagementFilter@5837cb9e, org.springframework.security.web.access.ExceptionTranslationFilter@256c6f7a, org.springframework.security.web.access.intercept.AuthorizationFilter@58a9e64d]
2024-07-10 09:04:14,776 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 09:04:14,793 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 8.158 seconds (process running for 8.909)
2024-07-10 09:04:15,009 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 09:04:15,023 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 09:04:15,070 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 09:04:15,211 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 09:04:15,212 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 09:04:15,216 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 09:05:58,150 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 09:05:58,151 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 09:05:58,153 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 09:05:59,932 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 1095 ms
2024-07-10 09:06:18,161 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:06:57,810 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:06:57,817 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select next_val as id_val from album_seq for update
2024-07-10 09:06:57,820 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] update album_seq set next_val= ? where next_val=?
2024-07-10 09:06:57,828 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 09:07:40,032 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:07:40,057 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 09:07:40,076 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 09:07:40,078 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 09:07:40,085 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 09:07:41,073 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from photo_seq for update
2024-07-10 09:07:41,074 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update photo_seq set next_val= ? where next_val=?
2024-07-10 09:07:41,094 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 09:08:50,203 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:08:50,214 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 09:08:50,223 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 09:08:50,240 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] update photo set album_id=?, description=?, file_name=?, name=?, original_file_name=? where id=?
2024-07-10 09:08:59,822 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:08:59,842 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 09:08:59,849 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 09:09:14,605 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:09:14,613 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 09:09:14,622 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 09:09:46,906 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 09:09:46,914 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 09:09:46,922 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 09:09:46,946 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] delete from photo where id=?
2024-07-10 09:57:09,249 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=44m56s719ms).
2024-07-10 10:13:20,742 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m40s789ms).
2024-07-10 10:18:37,704 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m46s939ms).
2024-07-10 10:51:58,284 [WARN] com.zaxxer.hikari.pool.HikariPool [HikariPool-1 housekeeper] HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=22m20s363ms).
2024-07-10 11:09:37,132 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:09:37,143 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:09:37,153 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:09:37,253 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:09:37,288 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 11:09:37,305 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 11:09:37,350 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 11:09:37,362 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 11:09:37,376 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 11:09:37,396 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 11:09:37,421 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 11:09:37,428 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 11:09:46,432 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 86050 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:09:46,434 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:09:47,973 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:09:48,095 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 104 ms. Found 3 JPA repository interfaces.
2024-07-10 11:09:49,081 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:09:49,104 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:09:49,104 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:09:49,290 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:09:49,291 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2766 ms
2024-07-10 11:09:49,507 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:09:49,600 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:09:49,941 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:09:50,144 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:09:50,457 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b322873
2024-07-10 11:09:50,460 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:09:50,541 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:09:51,575 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:09:51,591 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:09:51,600 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:09:51,603 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:09:51,608 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:09:51,626 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:09:51,635 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:09:51,639 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:09:51,646 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:09:51,650 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:09:51,660 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:09:51,681 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:09:51,692 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:09:51,696 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:09:51,715 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:09:51,731 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:09:51,736 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:09:51,753 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:09:51,764 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:09:51,767 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:09:51,781 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:09:51,816 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:09:51,853 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:09:51,871 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:09:53,118 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:09:53,344 [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
2024-07-10 11:09:53,346 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:09:53,347 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:09:53,347 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:09:53,367 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:09:53,380 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:09:53,393 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:09:53,402 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:09:53,416 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:09:53,430 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:09:53,448 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:09:53,465 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-10 11:09:53,483 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-10 11:09:53,486 [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2024-07-10 11:09:53,513 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-10 11:09:53,559 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1136)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:106)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:184)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:211)
	at org.springframework.security.config.annotation.web.configurers.CsrfConfigurer.ignoringRequestMatchers(CsrfConfigurer.java:198)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.lambda$1(SecurityConfig.java:84)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.csrf(HttpSecurity.java:1670)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.securityFilterChain(SecurityConfig.java:82)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:662)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1284)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:208)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 61 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:438)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 74 common frames omitted
2024-07-10 11:11:12,531 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 86847 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:11:12,534 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:11:13,649 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:11:13,742 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 77 ms. Found 3 JPA repository interfaces.
2024-07-10 11:11:14,509 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:11:14,526 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:11:14,526 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:11:14,642 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:11:14,643 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2036 ms
2024-07-10 11:11:14,840 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:11:14,920 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:11:15,219 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:11:15,380 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:11:15,601 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69eb544f
2024-07-10 11:11:15,604 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:11:15,671 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:11:16,752 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:11:16,773 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:11:16,779 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:11:16,781 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:11:16,786 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:11:16,797 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:11:16,805 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:11:16,813 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:11:16,817 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:11:16,824 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:11:16,834 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:11:16,858 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:11:16,877 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:11:16,882 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:11:16,907 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:11:16,926 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:11:16,932 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:11:16,964 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:11:16,997 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:11:17,007 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:11:17,022 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:11:17,054 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:11:17,087 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:11:17,098 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:11:18,236 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:11:18,437 [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
2024-07-10 11:11:18,438 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:11:18,439 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:11:18,440 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:11:18,455 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:11:18,466 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:11:18,476 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:11:18,483 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:11:18,494 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:11:18,504 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:11:18,514 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:11:18,524 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-10 11:11:18,535 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-10 11:11:18,540 [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2024-07-10 11:11:18,563 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-10 11:11:18,593 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1136)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:106)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:184)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:211)
	at org.springframework.security.config.annotation.web.configurers.CsrfConfigurer.ignoringRequestMatchers(CsrfConfigurer.java:198)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.lambda$1(SecurityConfig.java:84)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.csrf(HttpSecurity.java:1670)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.securityFilterChain(SecurityConfig.java:82)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:662)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1284)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:208)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 61 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:438)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 74 common frames omitted
2024-07-10 11:14:16,462 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 88528 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:14:16,466 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:14:17,775 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:14:17,873 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 85 ms. Found 3 JPA repository interfaces.
2024-07-10 11:14:18,689 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:14:18,707 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:14:18,708 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:14:18,859 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:14:18,860 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2320 ms
2024-07-10 11:14:19,095 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:14:19,178 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:14:19,421 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:14:19,590 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:14:19,836 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7e747037
2024-07-10 11:14:19,838 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:14:19,908 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:14:20,985 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:14:20,997 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:14:21,004 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:14:21,006 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:14:21,008 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:14:21,015 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:14:21,020 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:14:21,024 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:14:21,027 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:14:21,030 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:14:21,041 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:14:21,056 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:14:21,066 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:14:21,070 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:14:21,084 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:14:21,097 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:14:21,102 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:14:21,116 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:14:21,127 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:14:21,131 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:14:21,144 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:14:21,177 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:14:21,211 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:14:21,224 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:14:22,517 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:14:22,710 [WARN] org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
2024-07-10 11:14:22,711 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:14:22,712 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [main] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:14:22,713 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:14:22,727 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:14:22,738 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:14:22,747 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:14:22,755 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:14:22,764 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:14:22,774 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:14:22,782 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:14:22,794 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2024-07-10 11:14:22,814 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2024-07-10 11:14:22,817 [INFO] org.apache.catalina.core.StandardService [main] Stopping service [Tomcat]
2024-07-10 11:14:22,838 [INFO] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-07-10 11:14:22,862 [ERROR] org.springframework.boot.SpringApplication [main] Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:769)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:127)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:481)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1397)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [com/olahammed/SpringRestDemo/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:645)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1324)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1161)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1621)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1585)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1476)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1363)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:809)
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1136)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:106)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:184)
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:211)
	at org.springframework.security.config.annotation.web.configurers.CsrfConfigurer.ignoringRequestMatchers(CsrfConfigurer.java:198)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.lambda$1(SecurityConfig.java:84)
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.csrf(HttpSecurity.java:1670)
	at com.olahammed.SpringRestDemo.security.SecurityConfig.securityFilterChain(SecurityConfig.java:82)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.olahammed.SpringRestDemo.security.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:662)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1284)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:208)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:97)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 61 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'albumController' method 
com.olahammed.SpringRestDemo.controller.AlbumController#deleteAlbum(Long, Authentication)
to {DELETE [/api/v1/albums/{albumId}/photos/{photoId}/delete]}: There is already 'albumController' bean method
com.olahammed.SpringRestDemo.controller.AlbumController#deletePhoto(Long, Long, Authentication) mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:438)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298)
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	... 74 common frames omitted
2024-07-10 11:15:53,240 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 89401 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:15:53,244 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:15:54,638 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:15:54,750 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 99 ms. Found 3 JPA repository interfaces.
2024-07-10 11:15:55,660 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:15:55,674 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:15:55,675 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:15:55,813 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:15:55,814 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2462 ms
2024-07-10 11:15:56,047 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:15:56,128 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:15:56,375 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:15:56,524 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:15:56,808 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b2a4332
2024-07-10 11:15:56,813 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:15:56,903 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:15:58,212 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:15:58,226 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:15:58,232 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:15:58,238 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:15:58,242 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:15:58,249 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:15:58,253 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:15:58,259 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:15:58,263 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:15:58,267 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:15:58,278 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:15:58,303 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:15:58,329 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:15:58,333 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:15:58,346 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:15:58,358 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:15:58,361 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:15:58,377 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:15:58,390 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:15:58,394 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:15:58,409 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:15:58,441 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:15:58,611 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:15:58,621 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:16:00,323 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:16:00,722 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67683210, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@329aa2d1, org.springframework.security.web.context.SecurityContextHolderFilter@5929059c, org.springframework.security.web.header.HeaderWriterFilter@4d24ab25, org.springframework.security.web.authentication.logout.LogoutFilter@34376069, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1ab717f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b7a0f18, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42ea14b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@103033fe, org.springframework.security.web.session.SessionManagementFilter@232be28d, org.springframework.security.web.access.ExceptionTranslationFilter@53a3fc8b, org.springframework.security.web.access.intercept.AuthorizationFilter@733345f5]
2024-07-10 11:16:01,346 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 11:16:01,368 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 8.698 seconds (process running for 9.285)
2024-07-10 11:16:01,589 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:16:01,607 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:16:01,659 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:16:01,807 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:16:01,809 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:16:01,813 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:16:17,360 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:16:17,361 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:16:17,362 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:16:17,380 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:16:17,392 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 11:16:17,400 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 11:16:17,407 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 11:16:17,419 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 11:16:17,427 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 11:16:17,437 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 11:16:17,447 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 11:16:17,455 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 11:16:18,948 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 89728 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:16:18,951 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:16:20,099 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:16:20,199 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 3 JPA repository interfaces.
2024-07-10 11:16:21,015 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:16:21,031 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:16:21,032 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:16:21,156 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:16:21,157 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2115 ms
2024-07-10 11:16:21,360 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:16:21,427 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:16:21,633 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:16:21,788 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:16:22,111 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2b2a4332
2024-07-10 11:16:22,113 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:16:22,179 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:16:23,107 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:16:23,118 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:16:23,123 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:16:23,125 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:16:23,128 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:16:23,134 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:16:23,138 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:16:23,141 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:16:23,144 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:16:23,146 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:16:23,153 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:16:23,164 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:16:23,173 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:16:23,261 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:16:23,291 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:16:23,301 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:16:23,305 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:16:23,317 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:16:23,328 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:16:23,331 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:16:23,342 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:16:23,369 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:16:23,403 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:16:23,414 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:16:24,652 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:16:25,116 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@103033fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25511895, org.springframework.security.web.context.SecurityContextHolderFilter@6b7a0f18, org.springframework.security.web.header.HeaderWriterFilter@58d4fe33, org.springframework.security.web.authentication.logout.LogoutFilter@6cac0334, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@67683210, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@914ab92, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74d3b331, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38f569d, org.springframework.security.web.session.SessionManagementFilter@6e53bb4f, org.springframework.security.web.access.ExceptionTranslationFilter@4d24ab25, org.springframework.security.web.access.intercept.AuthorizationFilter@e638553]
2024-07-10 11:16:25,473 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 11:16:25,491 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.144 seconds (process running for 7.564)
2024-07-10 11:16:25,683 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:16:25,697 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:16:25,748 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:16:25,897 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:16:25,898 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:16:25,903 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:17:02,785 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:17:02,786 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:17:02,786 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:17:02,798 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:17:02,812 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 11:17:02,820 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 11:17:02,826 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 11:17:02,833 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 11:17:02,839 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 11:17:02,845 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 11:17:02,855 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 11:17:02,867 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 11:17:04,612 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 90241 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:17:04,614 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:17:05,921 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:17:06,012 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 80 ms. Found 3 JPA repository interfaces.
2024-07-10 11:17:06,862 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:17:06,883 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:17:06,884 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:17:07,088 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:17:07,089 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2391 ms
2024-07-10 11:17:07,378 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:17:07,455 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:17:07,683 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:17:07,839 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:17:08,063 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d0e1a9a
2024-07-10 11:17:08,065 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:17:08,129 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:17:09,643 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:17:09,656 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:17:09,662 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:17:09,664 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:17:09,667 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:17:09,675 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:17:09,682 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:17:09,685 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:17:09,690 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:17:09,693 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:17:09,702 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:17:09,721 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:17:09,733 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:17:09,737 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:17:09,750 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:17:09,762 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:17:09,766 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:17:09,786 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:17:09,800 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:17:09,804 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:17:09,822 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:17:09,856 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:17:09,897 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:17:09,909 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:17:11,558 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:17:11,956 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bddac1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c7fd2e0, org.springframework.security.web.context.SecurityContextHolderFilter@38d895e8, org.springframework.security.web.header.HeaderWriterFilter@5929059c, org.springframework.security.web.authentication.logout.LogoutFilter@567baa55, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@7095b688, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5dd12c19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@744673f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41831611, org.springframework.security.web.session.SessionManagementFilter@e2696e8, org.springframework.security.web.access.ExceptionTranslationFilter@69c6e5, org.springframework.security.web.access.intercept.AuthorizationFilter@52bcfd10]
2024-07-10 11:17:12,347 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 11:17:12,366 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 8.426 seconds (process running for 8.938)
2024-07-10 11:17:12,534 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:17:12,545 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:17:12,585 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:17:12,718 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:17:12,720 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:17:12,723 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:18:32,135 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:18:32,136 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:18:32,137 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:18:32,150 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:18:32,160 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 11:18:32,171 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 11:18:32,179 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 11:18:32,187 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 11:18:32,196 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 11:18:32,205 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 11:18:32,215 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 11:18:32,226 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 11:18:33,848 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 91212 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:18:33,851 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:18:35,123 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:18:35,236 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 99 ms. Found 3 JPA repository interfaces.
2024-07-10 11:18:36,047 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:18:36,062 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:18:36,063 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:18:36,184 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:18:36,185 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2239 ms
2024-07-10 11:18:36,387 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:18:36,544 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:18:36,753 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:18:36,931 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:18:37,226 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23f60b7d
2024-07-10 11:18:37,229 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:18:37,293 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:18:38,379 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:18:38,392 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:18:38,398 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:18:38,400 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:18:38,405 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:18:38,419 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:18:38,423 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:18:38,426 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:18:38,432 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:18:38,436 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:18:38,444 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:18:38,458 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:18:38,471 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:18:38,474 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:18:38,485 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:18:38,495 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:18:38,499 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:18:38,511 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:18:38,521 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:18:38,524 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:18:38,535 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:18:38,559 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:18:38,590 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:18:38,600 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:18:39,732 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:18:40,234 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e2f16bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@594fcb22, org.springframework.security.web.context.SecurityContextHolderFilter@6cb759d5, org.springframework.security.web.header.HeaderWriterFilter@13552290, org.springframework.security.web.authentication.logout.LogoutFilter@52bcfd10, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@4d10f182, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f233f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ecf784f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1399ad68, org.springframework.security.web.session.SessionManagementFilter@744673f3, org.springframework.security.web.access.ExceptionTranslationFilter@5837cb9e, org.springframework.security.web.access.intercept.AuthorizationFilter@21202507]
2024-07-10 11:18:40,613 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 11:18:40,632 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.459 seconds (process running for 7.947)
2024-07-10 11:18:40,810 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:18:40,821 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:18:40,861 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:18:41,002 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:18:41,004 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:18:41,009 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:18:47,395 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 11:18:47,396 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 11:18:47,398 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 11:18:48,962 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 792 ms
2024-07-10 11:19:06,521 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:19:45,309 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:19:45,317 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select next_val as id_val from album_seq for update
2024-07-10 11:19:45,319 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] update album_seq set next_val= ? where next_val=?
2024-07-10 11:19:45,327 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 11:19:52,615 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:19:52,622 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select next_val as id_val from album_seq for update
2024-07-10 11:19:52,624 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] update album_seq set next_val= ? where next_val=?
2024-07-10 11:19:52,629 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 11:19:59,811 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:19:59,826 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 11:19:59,833 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:19:59,836 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:20:39,886 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:20:39,903 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:20:39,918 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select next_val as id_val from photo_seq for update
2024-07-10 11:20:39,919 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update photo_seq set next_val= ? where next_val=?
2024-07-10 11:20:39,923 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:20:40,197 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select next_val as id_val from photo_seq for update
2024-07-10 11:20:40,198 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update photo_seq set next_val= ? where next_val=?
2024-07-10 11:20:40,202 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:20:47,245 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:20:47,250 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:20:47,255 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:20:47,296 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:20:56,457 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:20:56,467 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 11:20:56,472 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:20:56,479 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:21:11,970 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:21:11,976 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:21:11,987 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 11:21:18,194 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:21:18,199 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:21:18,208 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 11:21:18,225 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-1] delete from photo where id=?
2024-07-10 11:21:28,279 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:21:28,287 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:21:28,295 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] select p1_0.id,a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 join album a1_0 on a1_0.id=p1_0.album_id left join account a2_0 on a2_0.id=a1_0.account_id where p1_0.id=?
2024-07-10 11:21:28,303 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-3] delete from photo where id=?
2024-07-10 11:22:08,551 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:22:08,557 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:22:08,569 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] delete from album where id=?
2024-07-10 11:22:08,582 [WARN] org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] SQL Error: 1451, SQLState: 23000
2024-07-10 11:22:08,582 [ERROR] org.hibernate.engine.jdbc.spi.SqlExceptionHelper [http-nio-8080-exec-2] Cannot delete or update a parent row: a foreign key constraint fails (`albumsdb`.`photo`, CONSTRAINT `FKpy64km2p72eoy5rwh31ria0vx` FOREIGN KEY (`album_id`) REFERENCES `album` (`id`))
2024-07-10 11:34:33,162 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:34:33,164 [INFO] org.hibernate.tool.schema.internal.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2024-07-10 11:34:33,164 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:34:33,183 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:34:33,191 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account
2024-07-10 11:34:33,201 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists account_seq
2024-07-10 11:34:33,208 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album
2024-07-10 11:34:33,232 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists album_seq
2024-07-10 11:34:33,242 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo
2024-07-10 11:34:33,251 [DEBUG] org.hibernate.SQL [SpringApplicationShutdownHook] drop table if exists photo_seq
2024-07-10 11:34:33,261 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-07-10 11:34:33,272 [INFO] com.zaxxer.hikari.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-07-10 11:34:34,715 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Starting SpringRestDemoApplication using Java 17.0.11 with PID 2771 (/Users/olaidehammed/Downloads/SpringRestDemo/target/classes started by olaidehammed in /Users/olaidehammed/Downloads/SpringRestDemo)
2024-07-10 11:34:34,718 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-07-10 11:34:35,887 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-07-10 11:34:35,994 [INFO] org.springframework.data.repository.config.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 95 ms. Found 3 JPA repository interfaces.
2024-07-10 11:34:36,820 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat initialized with port(s): 8080 (http)
2024-07-10 11:34:36,839 [INFO] org.apache.catalina.core.StandardService [main] Starting service [Tomcat]
2024-07-10 11:34:36,840 [INFO] org.apache.catalina.core.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.4]
2024-07-10 11:34:36,978 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [main] Initializing Spring embedded WebApplicationContext
2024-07-10 11:34:36,979 [INFO] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 2175 ms
2024-07-10 11:34:37,212 [INFO] org.hibernate.jpa.internal.util.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-07-10 11:34:37,278 [INFO] org.hibernate.Version [main] HHH000412: Hibernate ORM core version 6.1.6.Final
2024-07-10 11:34:37,562 [WARN] org.hibernate.orm.deprecation [main] HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead
2024-07-10 11:34:37,923 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Starting...
2024-07-10 11:34:38,238 [INFO] com.zaxxer.hikari.pool.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2cbe455c
2024-07-10 11:34:38,241 [INFO] com.zaxxer.hikari.HikariDataSource [main] HikariPool-1 - Start completed.
2024-07-10 11:34:38,321 [INFO] SQL dialect [main] HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect
2024-07-10 11:34:39,410 [DEBUG] org.hibernate.SQL [main] alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02
2024-07-10 11:34:39,422 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table album drop foreign key FK5jtlch5qo4kdolwqbfyrf4e02" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.album' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:34:39,428 [DEBUG] org.hibernate.SQL [main] alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx
2024-07-10 11:34:39,430 [WARN] org.hibernate.tool.schema.internal.ExceptionHandlerLoggedImpl [main] GenerationTarget encountered exception accepting command : Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table photo drop foreign key FKpy64km2p72eoy5rwh31ria0vx" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:419)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:403)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applyConstraintDropping(SchemaDropperImpl.java:373)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:256)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:178)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:149)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:117)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143)
	at java.base/java.util.HashMap.forEach(HashMap.java:1421)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:336)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)
	at com.olahammed.SpringRestDemo.SpringRestDemoApplication.main(SpringRestDemoApplication.java:14)
Caused by: java.sql.SQLSyntaxErrorException: Table 'albumsdb.photo' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 37 common frames omitted
2024-07-10 11:34:39,434 [DEBUG] org.hibernate.SQL [main] drop table if exists account
2024-07-10 11:34:39,445 [DEBUG] org.hibernate.SQL [main] drop table if exists account_seq
2024-07-10 11:34:39,449 [DEBUG] org.hibernate.SQL [main] drop table if exists album
2024-07-10 11:34:39,453 [DEBUG] org.hibernate.SQL [main] drop table if exists album_seq
2024-07-10 11:34:39,458 [DEBUG] org.hibernate.SQL [main] drop table if exists photo
2024-07-10 11:34:39,462 [DEBUG] org.hibernate.SQL [main] drop table if exists photo_seq
2024-07-10 11:34:39,472 [DEBUG] org.hibernate.SQL [main] create table account (id bigint not null, authorities varchar(255), email varchar(255), password varchar(255), primary key (id)) engine=InnoDB
2024-07-10 11:34:39,486 [DEBUG] org.hibernate.SQL [main] create table account_seq (next_val bigint) engine=InnoDB
2024-07-10 11:34:39,497 [DEBUG] org.hibernate.SQL [main] insert into account_seq values ( 1 )
2024-07-10 11:34:39,504 [DEBUG] org.hibernate.SQL [main] create table album (id bigint not null, description varchar(255), name varchar(255), account_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:34:39,518 [DEBUG] org.hibernate.SQL [main] create table album_seq (next_val bigint) engine=InnoDB
2024-07-10 11:34:39,534 [DEBUG] org.hibernate.SQL [main] insert into album_seq values ( 1 )
2024-07-10 11:34:39,539 [DEBUG] org.hibernate.SQL [main] create table photo (id bigint not null, description varchar(255), file_name varchar(255), name varchar(255), original_file_name varchar(255), album_id bigint not null, primary key (id)) engine=InnoDB
2024-07-10 11:34:39,552 [DEBUG] org.hibernate.SQL [main] create table photo_seq (next_val bigint) engine=InnoDB
2024-07-10 11:34:39,565 [DEBUG] org.hibernate.SQL [main] insert into photo_seq values ( 1 )
2024-07-10 11:34:39,568 [DEBUG] org.hibernate.SQL [main] alter table account add constraint UK_q0uja26qgu1atulenwup9rxyr unique (email)
2024-07-10 11:34:39,581 [DEBUG] org.hibernate.SQL [main] alter table album add constraint FK5jtlch5qo4kdolwqbfyrf4e02 foreign key (account_id) references account (id)
2024-07-10 11:34:39,622 [DEBUG] org.hibernate.SQL [main] alter table photo add constraint FKpy64km2p72eoy5rwh31ria0vx foreign key (album_id) references album (id)
2024-07-10 11:34:39,659 [INFO] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-07-10 11:34:39,671 [INFO] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-07-10 11:34:41,023 [WARN] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-07-10 11:34:41,458 [INFO] org.springframework.security.web.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6464f017, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@755a90a6, org.springframework.security.web.context.SecurityContextHolderFilter@79d3c655, org.springframework.security.web.header.HeaderWriterFilter@1d884a19, org.springframework.security.web.authentication.logout.LogoutFilter@4505015b, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@25511895, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5837cb9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6705fb02, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5862ab28, org.springframework.security.web.session.SessionManagementFilter@6b7a0f18, org.springframework.security.web.access.ExceptionTranslationFilter@1952ad9d, org.springframework.security.web.access.intercept.AuthorizationFilter@44a0e68f]
2024-07-10 11:34:41,821 [INFO] org.springframework.boot.web.embedded.tomcat.TomcatWebServer [main] Tomcat started on port(s): 8080 (http) with context path ''
2024-07-10 11:34:41,837 [INFO] com.olahammed.SpringRestDemo.SpringRestDemoApplication [main] Started SpringRestDemoApplication in 7.605 seconds (process running for 8.104)
2024-07-10 11:34:42,060 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:34:42,075 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:34:42,121 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:34:42,293 [DEBUG] org.hibernate.SQL [main] select next_val as id_val from account_seq for update
2024-07-10 11:34:42,295 [DEBUG] org.hibernate.SQL [main] update account_seq set next_val= ? where next_val=?
2024-07-10 11:34:42,303 [DEBUG] org.hibernate.SQL [main] insert into account (authorities, email, password, id) values (?, ?, ?, ?)
2024-07-10 11:34:58,724 [INFO] org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/] [http-nio-8080-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-07-10 11:34:58,725 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Initializing Servlet 'dispatcherServlet'
2024-07-10 11:34:58,728 [INFO] org.springframework.web.servlet.DispatcherServlet [http-nio-8080-exec-1] Completed initialization in 2 ms
2024-07-10 11:34:59,902 [INFO] org.springdoc.api.AbstractOpenApiResource [http-nio-8080-exec-8] Init duration for springdoc-openapi is: 773 ms
2024-07-10 11:35:13,433 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:36:06,172 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:36:06,178 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] select next_val as id_val from album_seq for update
2024-07-10 11:36:06,180 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] update album_seq set next_val= ? where next_val=?
2024-07-10 11:36:06,186 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-4] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 11:36:15,562 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:36:15,571 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] select next_val as id_val from album_seq for update
2024-07-10 11:36:15,573 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] update album_seq set next_val= ? where next_val=?
2024-07-10 11:36:15,580 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-6] insert into album (account_id, description, name, id) values (?, ?, ?, ?)
2024-07-10 11:36:52,375 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:36:52,390 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:36:52,404 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select next_val as id_val from photo_seq for update
2024-07-10 11:36:52,405 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update photo_seq set next_val= ? where next_val=?
2024-07-10 11:36:52,410 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:36:52,595 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] select next_val as id_val from photo_seq for update
2024-07-10 11:36:52,596 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] update photo_seq set next_val= ? where next_val=?
2024-07-10 11:36:52,600 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-7] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:36:57,701 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:36:57,710 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:36:57,719 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:36:57,767 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-8] insert into photo (album_id, description, file_name, name, original_file_name, id) values (?, ?, ?, ?, ?, ?)
2024-07-10 11:37:09,190 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:37:09,206 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select a1_0.id,a1_0.account_id,a1_0.description,a1_0.name from album a1_0 where a1_0.account_id=?
2024-07-10 11:37:09,212 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:37:09,227 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-9] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:37:32,779 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:37:32,788 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:37:32,796 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:37:32,812 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] delete from photo where id=?
2024-07-10 11:37:32,823 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] delete from photo where id=?
2024-07-10 11:37:32,828 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-10] delete from album where id=?
2024-07-10 11:39:05,618 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a1_0.authorities,a1_0.email,a1_0.password from account a1_0 where a1_0.email=?
2024-07-10 11:39:05,624 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select a1_0.id,a2_0.id,a2_0.authorities,a2_0.email,a2_0.password,a1_0.description,a1_0.name from album a1_0 join account a2_0 on a2_0.id=a1_0.account_id where a1_0.id=?
2024-07-10 11:39:05,633 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] select p1_0.id,p1_0.album_id,p1_0.description,p1_0.file_name,p1_0.name,p1_0.original_file_name from photo p1_0 where p1_0.album_id=?
2024-07-10 11:39:05,643 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] delete from photo where id=?
2024-07-10 11:39:05,657 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] delete from photo where id=?
2024-07-10 11:39:05,664 [DEBUG] org.hibernate.SQL [http-nio-8080-exec-2] delete from album where id=?
